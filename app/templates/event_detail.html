{# templates/event_detail.html #}
{% extends "layout.html" %}
{% block content %}

  <h2>{{ event.title }}</h2>
  <p class="date">ğŸ“… {{ event.date[:10] }} {{ event.date[11:16] }}</p>
  <p>{{ event.description }}</p>

  {# æ¨™ç±¤å€å¡Š #}
  <div class="tags">
    {% for tag in event.tags %}
      <span class="tag">#{{ tag.name }}</span>
    {% endfor %}
  </div>

  {# å¦‚æœæ˜¯æ´»å‹•å»ºç«‹è€…ï¼Œå¯ä»¥çœ‹åˆ°ç·¨è¼¯ï¼åˆªé™¤ #}
  {% if current_user.is_authenticated and current_user.id == event.created_by %}
    <div class="card-controls">
      <a href="{{ url_for('main.edit_event', id=event.id) }}">{{ _('Edit') }}</a> |
      <form action="{{ url_for('main.delete_event', id=event.id) }}"
            method="POST" style="display:inline;">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <button type="submit"
                onclick="return confirm('{{ _('Delete this event?') }}')">
          {{ _('Delete') }}
        </button>
      </form>
    </div>
  {% endif %}

{% endblock %}
